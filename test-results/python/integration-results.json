{"created": 1756395688.389069, "duration": 3.283337116241455, "exitcode": 1, "root": "/home/runner/work/tony_tesla/tony_tesla", "environment": {}, "summary": {"failed": 4, "passed": 13, "total": 17, "collected": 17}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/integration", "type": "Package"}]}, {"nodeid": "tests/integration/test_blog_handler.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/test_blog_handler.py", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_blog_handler.py::TestClient", "type": "Class"}, {"nodeid": "tests/integration/test_blog_handler.py::test_random_blog", "type": "Function", "lineno": 23}, {"nodeid": "tests/integration/test_blog_handler.py::test_blog_info", "type": "Function", "lineno": 41}, {"nodeid": "tests/integration/test_blog_handler.py::test_read_blog_post", "type": "Function", "lineno": 70}, {"nodeid": "tests/integration/test_blog_handler.py::test_random_blog_url", "type": "Function", "lineno": 109}, {"nodeid": "tests/integration/test_blog_handler.py::test_blog_search", "type": "Function", "lineno": 126}]}, {"nodeid": "tests/integration/test_tony_server.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/integration/test_tony_server.py", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_tony_server.py::TestClient", "type": "Class"}, {"nodeid": "tests/integration/test_tony_server.py::test_search_function", "type": "Function", "lineno": 63}, {"nodeid": "tests/integration/test_tony_server.py::test_parse_tool_call", "type": "Function", "lineno": 120}, {"nodeid": "tests/integration/test_tony_server.py::test_make_vapi_response", "type": "Function", "lineno": 129}, {"nodeid": "tests/integration/test_tony_server.py::test_blog_search", "type": "Function", "lineno": 143}, {"nodeid": "tests/integration/test_tony_server.py::test_vapi_assistant_call_input", "type": "Function", "lineno": 189}, {"nodeid": "tests/integration/test_tony_server.py::test_vapi_assistant_call_input_non_igor", "type": "Function", "lineno": 255}, {"nodeid": "tests/integration/test_tony_server.py::test_is_igor_caller", "type": "Function", "lineno": 321}, {"nodeid": "tests/integration/test_tony_server.py::test_get_caller_number", "type": "Function", "lineno": 336}, {"nodeid": "tests/integration/test_tony_server.py::test_apply_caller_restrictions", "type": "Function", "lineno": 366}, {"nodeid": "tests/integration/test_tony_server.py::test_assistant_endpoint_logs_failure", "type": "Function", "lineno": 415}, {"nodeid": "tests/integration/test_tony_server.py::test_send_text_integration", "type": "Coroutine", "lineno": 454}, {"nodeid": "tests/integration/test_tony_server.py::test_send_text_ifttt_integration", "type": "Coroutine", "lineno": 547}]}, {"nodeid": "tests/integration", "outcome": "passed", "result": [{"nodeid": "tests/integration/test_blog_handler.py", "type": "Module"}, {"nodeid": "tests/integration/test_tony_server.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/integration/test_blog_handler.py::test_random_blog", "lineno": 23, "outcome": "failed", "keywords": ["test_random_blog", "test_blog_handler.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0008763579999992999, "outcome": "passed"}, "call": {"duration": 0.3402672840000065, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "traceback": [{"path": "tests/integration/test_blog_handler.py", "lineno": 27, "message": "in test_random_blog"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 552, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1144, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 451, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 825, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 914, "message": "in send"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 942, "message": "in _send_handling_auth"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 979, "message": "in _send_handling_redirects"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1014, "message": "in _send_single_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 354, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 351, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 291, "message": "in call"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 456, "message": "in result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 222, "message": "in _call_func"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py", "lineno": 1054, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py", "lineno": 113, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 186, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "message": "in handle"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 302, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 213, "message": "in run_endpoint_function"}, {"path": "blog_server.py", "lineno": 106, "message": "in random_blog_endpoint"}, {"path": "blog_server.py", "lineno": 68, "message": "in get_url_info"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "in raise_for_status"}], "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '2', 'content-type': 'application/json'}\nf\"Error in random_blog: {str(e)}\": Error in random_blog: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json\n", "longrepr": "tests/integration/test_blog_handler.py:27: in test_random_blog\n    response = client.post(\"/random_blog\", json={}, headers=auth_headers)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:213: in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nblog_server.py:106: in random_blog_endpoint\n    url_info = blog.get_url_info()\n               ^^^^^^^^^^^^^^^^^^^\nblog_server.py:68: in get_url_info\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "teardown": {"duration": 0.0008495179999954416, "outcome": "passed"}}, {"nodeid": "tests/integration/test_blog_handler.py::test_blog_info", "lineno": 41, "outcome": "failed", "keywords": ["test_blog_info", "test_blog_handler.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0004563930000074379, "outcome": "passed"}, "call": {"duration": 0.05557831900000565, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "traceback": [{"path": "tests/integration/test_blog_handler.py", "lineno": 45, "message": "in test_blog_info"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 552, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1144, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 451, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 825, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 914, "message": "in send"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 942, "message": "in _send_handling_auth"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 979, "message": "in _send_handling_redirects"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1014, "message": "in _send_single_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 354, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 351, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 291, "message": "in call"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 456, "message": "in result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 222, "message": "in _call_func"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py", "lineno": 1054, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py", "lineno": 113, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 186, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "message": "in handle"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 302, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 213, "message": "in run_endpoint_function"}, {"path": "blog_server.py", "lineno": 136, "message": "in blog_info_endpoint"}, {"path": "blog_server.py", "lineno": 68, "message": "in get_url_info"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "in raise_for_status"}], "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '2', 'content-type': 'application/json'}\nf\"Error in blog_info: {str(e)}\": Error in blog_info: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json\n", "longrepr": "tests/integration/test_blog_handler.py:45: in test_blog_info\n    response = client.post(\"/blog_info\", json={}, headers=auth_headers)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:213: in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nblog_server.py:136: in blog_info_endpoint\n    url_info = blog.get_url_info()\n               ^^^^^^^^^^^^^^^^^^^\nblog_server.py:68: in get_url_info\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "teardown": {"duration": 0.000807338000001323, "outcome": "passed"}}, {"nodeid": "tests/integration/test_blog_handler.py::test_read_blog_post", "lineno": 70, "outcome": "failed", "keywords": ["test_read_blog_post", "test_blog_handler.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0004948250000040844, "outcome": "passed"}, "call": {"duration": 0.18416556299999343, "outcome": "failed", "crash": {"path": "/home/runner/work/tony_tesla/tony_tesla/blog_server.py", "lineno": 55, "message": "Exception: Error fetching blog post: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/_d/vim_tips.md"}, "traceback": [{"path": "tests/integration/test_blog_handler.py", "lineno": 77, "message": "in test_read_blog_post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 552, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1144, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 451, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 825, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 914, "message": "in send"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 942, "message": "in _send_handling_auth"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 979, "message": "in _send_handling_redirects"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1014, "message": "in _send_single_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 354, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 351, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 291, "message": "in call"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 456, "message": "in result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 222, "message": "in _call_func"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py", "lineno": 1054, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py", "lineno": 113, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 186, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "message": "in handle"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 302, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 213, "message": "in run_endpoint_function"}, {"path": "blog_server.py", "lineno": 183, "message": "in read_blog_post_endpoint"}, {"path": "blog_server.py", "lineno": 55, "message": "in read_blog_post"}], "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '25', 'content-type': 'application/json'}\nf\"Error fetching blog post: {e}\": Error fetching blog post: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/_d/vim_tips.md\nf\"Error in read_blog_post: {str(e)}\": Error in read_blog_post: Error fetching blog post: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/_d/vim_tips.md\n", "longrepr": "blog_server.py:51: in read_blog_post\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/_d/vim_tips.md\n\nDuring handling of the above exception, another exception occurred:\ntests/integration/test_blog_handler.py:77: in test_read_blog_post\n    response = client.post(\"/read_blog_post\", json=params, headers=auth_headers)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:213: in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nblog_server.py:183: in read_blog_post_endpoint\n    content = read_blog_post(markdown_path)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nblog_server.py:55: in read_blog_post\n    raise Exception(f\"Error fetching blog post: {str(e)}\")\nE   Exception: Error fetching blog post: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/_d/vim_tips.md"}, "teardown": {"duration": 0.0007916590000007773, "outcome": "passed"}}, {"nodeid": "tests/integration/test_blog_handler.py::test_random_blog_url", "lineno": 109, "outcome": "failed", "keywords": ["test_random_blog_url", "test_blog_handler.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0004564040000047953, "outcome": "passed"}, "call": {"duration": 0.054603596999996284, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "traceback": [{"path": "tests/integration/test_blog_handler.py", "lineno": 113, "message": "in test_random_blog_url"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 552, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1144, "message": "in post"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 451, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 825, "message": "in request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 914, "message": "in send"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 942, "message": "in _send_handling_auth"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 979, "message": "in _send_handling_redirects"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py", "lineno": 1014, "message": "in _send_single_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 354, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py", "lineno": 351, "message": "in handle_request"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 291, "message": "in call"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 456, "message": "in result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py", "lineno": 401, "message": "in __get_result"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py", "lineno": 222, "message": "in _call_func"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py", "lineno": 1054, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py", "lineno": 113, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 186, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "message": "in __call__"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "message": "in handle"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "message": "in wrapped_app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 302, "message": "in app"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 213, "message": "in run_endpoint_function"}, {"path": "blog_server.py", "lineno": 200, "message": "in random_blog_url_endpoint"}, {"path": "blog_server.py", "lineno": 68, "message": "in get_url_info"}, {"path": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py", "lineno": 1026, "message": "in raise_for_status"}], "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '2', 'content-type': 'application/json'}\nf\"Error in random_blog_url: {str(e)}\": Error in random_blog_url: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json\n", "longrepr": "tests/integration/test_blog_handler.py:113: in test_random_blog_url\n    response = client.post(\"/random_blog_url\", json={}, headers=auth_headers)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post\n    return super().post(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post\n    return self.request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request\n    return super().request(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request\n    portal.call(self.app, scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__\n    await self.app(scope, receive, _send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__\n    await self.middleware_stack(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app\n    await route.handle(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle\n    await self.app(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app\n    raise exc\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app\n    await app(scope, receive, sender)\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:302: in app\n    raw_response = await run_endpoint_function(\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:213: in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nblog_server.py:200: in random_blog_url_endpoint\n    url_info = blog.get_url_info()\n               ^^^^^^^^^^^^^^^^^^^\nblog_server.py:68: in get_url_info\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://raw.githubusercontent.com/idvorkin/idvorkin.github.io/refs/heads/master/back-links.json"}, "teardown": {"duration": 0.0007773429999957671, "outcome": "passed"}}, {"nodeid": "tests/integration/test_blog_handler.py::test_blog_search", "lineno": 126, "outcome": "passed", "keywords": ["test_blog_search", "test_blog_handler.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.00043686600000114595, "outcome": "passed"}, "call": {"duration": 0.45321735699999977, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '22', 'content-type': 'application/json'}\n"}, "teardown": {"duration": 0.0006835079999945037, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_search_function", "lineno": 63, "outcome": "passed", "keywords": ["test_search_function", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.00043452199999194363, "outcome": "passed"}, "call": {"duration": 0.053617324000001076, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '173', 'content-type': 'application/json'}\nauth_line: Bearer test_pplx_key\npayload: {'model': 'sonar-pro', 'messages': [{'role': 'system', 'content': 'Be precise and concise.'}, {'role': 'user', 'content': 'What is the weather in Seattle?'}]}\nheaders: {'accept': 'application/json', 'content-type': 'application/json', 'authorization': 'Bearer test_pplx_key'}\nsearch_response.json(): {'id': '2fb30930-796a-405d-be66-12fa7f54db75', 'model': 'sonar-pro', 'created': 1742044995, 'usage': {'prompt_tokens': 12, 'completion_tokens': 356, 'total_tokens': 368}, 'object': 'chat.completion', 'choices': [{'index': 0, 'finish_reason': 'stop', 'message': {'role': 'assistant', 'content': 'The weather in Seattle is currently chilly with intervals of clouds and sun.'}}]}\nvapi_response: {'results': [{'toolCallId': 'toolu_01FDyjjUG1ig7hP9YQ6MQXhX', 'result': 'The weather in Seattle is currently chilly with intervals of clouds and sun.'}]}\n"}, "teardown": {"duration": 0.000768586999996046, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_parse_tool_call", "lineno": 120, "outcome": "passed", "keywords": ["test_parse_tool_call", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.00037117400000852285, "outcome": "passed"}, "call": {"duration": 0.00019082600000785988, "outcome": "passed"}, "teardown": {"duration": 0.0006271519999927477, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_make_vapi_response", "lineno": 129, "outcome": "passed", "keywords": ["test_make_vapi_response", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0003078949999917313, "outcome": "passed"}, "call": {"duration": 0.00014652400000159105, "outcome": "passed"}, "teardown": {"duration": 0.0006526900000096703, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_blog_search", "lineno": 143, "outcome": "passed", "keywords": ["test_blog_search", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.00035120600000482227, "outcome": "passed"}, "call": {"duration": 0.1987346780000081, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '131', 'content-type': 'application/json'}\n"}, "teardown": {"duration": 0.0006933460000055902, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_vapi_assistant_call_input", "lineno": 189, "outcome": "passed", "keywords": ["test_vapi_assistant_call_input", "usefixtures", "pytestmark", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0006513379999972813, "outcome": "passed"}, "call": {"duration": 0.20095458699999824, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '603', 'content-type': 'application/json'}\ninput: {'message': {'timestamp': 1736039875874, 'type': 'assistant-request', 'call': {'id': 'xxx-xxx', 'orgId': 'xxx-xxx', 'createdAt': '2025-01-05T01:17:55.739Z', 'updatedAt': '2025-01-05T01:17:55.739Z', 'type': 'inbound Phone Call', 'status': 'ringing', 'phoneCallProvider': 'twilio', 'phoneCallProviderId': 'xxx-xxx', 'phoneCallTransport': 'pstn', 'phoneNumberId': 'xxx-xxx', 'assistantId': None, 'squadId': None, 'customer': {'number': '+1xxx-xxx', 'phoneNumber': {'id': 'xxx-xxx', 'orgId': 'xxx-xxx', 'assistantId': None, 'number': '+1xxx-xxx', 'createdAt': '2024-04-12T16:35:14.400Z', 'updatedAt': '2024-11-27T17:14:08.833Z', 'provider': 'twilio'}}}}}\nlen(tony): 1\n"}, "teardown": {"duration": 0.000824099999988448, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_vapi_assistant_call_input_non_igor", "lineno": 255, "outcome": "passed", "keywords": ["test_vapi_assistant_call_input_non_igor", "usefixtures", "pytestmark", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0006425210000031711, "outcome": "passed"}, "call": {"duration": 0.055362767999994844, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '606', 'content-type': 'application/json'}\ninput: {'message': {'timestamp': 1736039875874, 'type': 'assistant-request', 'call': {'id': 'xxx-xxx', 'orgId': 'xxx-xxx', 'createdAt': '2025-01-05T01:17:55.739Z', 'updatedAt': '2025-01-05T01:17:55.739Z', 'type': 'inbound Phone Call', 'status': 'ringing', 'phoneCallProvider': 'twilio', 'phoneCallProviderId': 'xxx-xxx', 'phoneCallTransport': 'pstn', 'phoneNumberId': 'xxx-xxx', 'assistantId': None, 'squadId': None, 'customer': {'number': '+11234567890', 'phoneNumber': {'id': 'xxx-xxx', 'orgId': 'xxx-xxx', 'assistantId': None, 'number': '+1xxx-xxx', 'createdAt': '2024-04-12T16:35:14.400Z', 'updatedAt': '2024-11-27T17:14:08.833Z', 'provider': 'twilio'}}}}}\nlen(tony): 1\n"}, "teardown": {"duration": 0.0007547210000069526, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_is_igor_caller", "lineno": 321, "outcome": "passed", "keywords": ["test_is_igor_caller", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.000443418999992673, "outcome": "passed"}, "call": {"duration": 0.0008341389999912963, "outcome": "passed", "stdout": "Missing 'call' key\n"}, "teardown": {"duration": 0.0006537319999893043, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_get_caller_number", "lineno": 336, "outcome": "passed", "keywords": ["test_get_caller_number", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.00035993199999495573, "outcome": "passed"}, "call": {"duration": 0.0010853590000010627, "outcome": "passed", "stdout": "Missing 'number' key\nMissing 'customer' key\nMissing 'call' key\nMissing 'message' key\nMissing 'message' key\nInput is None\n"}, "teardown": {"duration": 0.000615108999994618, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_apply_caller_restrictions", "lineno": 366, "outcome": "passed", "keywords": ["test_apply_caller_restrictions", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0003686490000092135, "outcome": "passed"}, "call": {"duration": 0.0002588629999991099, "outcome": "passed"}, "teardown": {"duration": 0.0006171429999994871, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_assistant_endpoint_logs_failure", "lineno": 415, "outcome": "passed", "keywords": ["test_assistant_endpoint_logs_failure", "usefixtures", "pytestmark", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0005743939999973691, "outcome": "passed"}, "call": {"duration": 0.045183433999994804, "outcome": "passed", "stdout": "dict(request.headers): {'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflate, zstd', 'connection': 'keep-alive', 'user-agent': 'testclient', 'x-vapi-secret': 'test_secret', 'content-length': '398', 'content-type': 'application/json'}\ninput: {'message': {'timestamp': 1737157773126, 'type': 'status-update', 'status': 'ended', 'endedReason': 'assistant-request-returned-invalid-assistant', 'inboundPhoneCallDebuggingArtifacts': {'error': \"Couldn't Get Assistant...\", 'assistantRequestError': 'Invalid Assistant. Errors: [\\n  \"assistant.model.All fallbackModels\\'s elements must be unique\"\\n]', 'assistantRequestResponse': {'assistant': {'name': 'Tony'}}}}}\nfailure_reason: Invalid Assistant. Errors: [\n                  \"assistant.model.All fallbackModels's elements must be unique\"\n                ]\nMissing 'call' key\nMissing 'call' key\nlen(tony): 1\n"}, "teardown": {"duration": 0.0007488589999979922, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_send_text_integration", "lineno": 454, "outcome": "passed", "keywords": ["test_send_text_integration", "asyncio", "pytestmark", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0006532200000037847, "outcome": "passed"}, "call": {"duration": 0.010067434999996294, "outcome": "passed", "stdout": "Twilio environment check:\nTWILIO_ACCOUNT_SID exists:, TWILIO_ACCOUNT_SID in os.environ: True\nTWILIO_AUTH_TOKEN exists:, TWILIO_AUTH_TOKEN in os.environ: True\nTWILIO_FROM_NUMBER exists:, TWILIO_FROM_NUMBER in os.environ: True\n\"TWILIO_FROM_NUMBER value:\": TWILIO_FROM_NUMBER value:\nos.environ.get(TWILIO_FROM_NUMBER): +13203734339\nSending message with params:\nTo:, to_number: +12068904339\nFrom:, os.environ[TWILIO_FROM_NUMBER]: +13203734339\nText:, text: Hello, this is a test message\n\"Twilio response:\": Twilio response:\nmessage.__dict__: {'_mock_return_value': sentinel.DEFAULT, '_mock_parent': None, '_mock_name': None, '_mock_new_name': '()', '_mock_new_parent': <Mock name='Client().messages.create' id='139921184923840'>, '_mock_sealed': False, '_spec_class': None, '_spec_set': None, '_spec_signature': None, '_mock_methods': None, '_spec_asyncs': [], '_mock_children': {}, '_mock_wraps': None, '_mock_delegate': None, '_mock_called': False, '_mock_call_args': None, '_mock_call_count': 0, '_mock_call_args_list': [], '_mock_mock_calls': [], 'method_calls': [], '_mock_unsafe': False, '_mock_side_effect': None, 'sid': 'SM12345'}\nTwilio environment check:\nTWILIO_ACCOUNT_SID exists:, TWILIO_ACCOUNT_SID in os.environ: True\nTWILIO_AUTH_TOKEN exists:, TWILIO_AUTH_TOKEN in os.environ: True\nTWILIO_FROM_NUMBER exists:, TWILIO_FROM_NUMBER in os.environ: True\n\"TWILIO_FROM_NUMBER value:\": TWILIO_FROM_NUMBER value:\nos.environ.get(TWILIO_FROM_NUMBER): +13203734339\nerror_msg: Unexpected error: Connection error\n"}, "teardown": {"duration": 0.0009102910000109432, "outcome": "passed"}}, {"nodeid": "tests/integration/test_tony_server.py::test_send_text_ifttt_integration", "lineno": 547, "outcome": "passed", "keywords": ["test_send_text_ifttt_integration", "asyncio", "pytestmark", "test_tony_server.py", "integration", "tests", "tony_tesla", ""], "setup": {"duration": 0.0004872510000097918, "outcome": "passed"}, "call": {"duration": 0.13864008400000216, "outcome": "passed", "stdout": "IFTTT environment check:\nIFTTT_WEBHOOK_KEY exists:, IFTTT_WEBHOOK_KEY in os.environ: True\n\"IFTTT_WEBHOOK_SMS_EVENT exists:\": IFTTT_WEBHOOK_SMS_EVENT exists:\nIFTTT_WEBHOOK_SMS_EVENT in os.environ: True\nSending IFTTT webhook request:\n\"URL:\": URL:\nifttt_url: https://maker.ifttt.com/trigger/test_event/with/key/test_key\n\"Payload:\": Payload:\npayload: {'value1': 'Hello, this is a test message', 'value2': '+12068904339', 'value3': 'From Tony Tesla at 2025-08-28 08:41:28'}\nIFTTT response status:, response.status_code: 200\n\"IFTTT response text:\": IFTTT response text:\nresponse.text: Congratulations! You've fired the sms_event event\nIFTTT environment check:\nIFTTT_WEBHOOK_KEY exists:, IFTTT_WEBHOOK_KEY in os.environ: True\n\"IFTTT_WEBHOOK_SMS_EVENT exists:\": IFTTT_WEBHOOK_SMS_EVENT exists:\nIFTTT_WEBHOOK_SMS_EVENT in os.environ: True\nSending IFTTT webhook request:\n\"URL:\": URL:\nifttt_url: https://maker.ifttt.com/trigger/test_event/with/key/test_key\n\"Payload:\": Payload:\npayload: {'value1': 'Hello, this is a test message', 'value2': '+12068904339', 'value3': 'From Tony Tesla at 2025-08-28 08:41:28'}\nerror_msg: Failed to send webhook request: Connection failed\nIFTTT environment check:\nIFTTT_WEBHOOK_KEY exists:, IFTTT_WEBHOOK_KEY in os.environ: True\n\"IFTTT_WEBHOOK_SMS_EVENT exists:\": IFTTT_WEBHOOK_SMS_EVENT exists:\nIFTTT_WEBHOOK_SMS_EVENT in os.environ: True\nSending IFTTT webhook request:\nURL:, ifttt_url: https://maker.ifttt.com/trigger/test_event/with/key/\n\"Payload:\": Payload:\npayload: {'value1': 'Hello, this is a test message', 'value2': '+12068904339', 'value3': 'From Tony Tesla at 2025-08-28 08:41:28'}\nerror_msg: Failed to send webhook request: 404 Client Error: Not Found for url: https://maker.ifttt.com/trigger/test_event/with/key/\n"}, "teardown": {"duration": 0.000858014000002072, "outcome": "passed"}}]}